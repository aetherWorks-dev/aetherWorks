hisMachineAlert 3	/* snd picker */#define cantPlaySndAlert 4				/* snd picker *//* Consts for Resource menu string */#define rsrcStrName 		"\pResource menu"#define rsrcCreateStr 		1#define rsrcOpenStr 		2#define rsrcListStr 		3#define rsrcOpenLists 		4#define rsrcOpenEditor 		5#define rsrcOpenEditors 	6#define rsrcOpenHex 		7#define rsrcRevert 			8#define rsrcRevertThese 	9#define rsrcResources 		10#define rsrcRevertRes 		11#define rsrcRevertThis 		12#define rsrcPatCreateStr 	13#define rsrcSICNCreateStr	14#define rsrcDITLCreateStr	15#define rsrcRevertItemStr	16#define rsrcGNRLCreateStr	17#define rsrcOpenTemplate	18#define rsrcOpenPickerByID	19	//	Character code constants#define 	leftArrowKey		0x1c#define 	rightArrowKey		0x1d#define 	upArrowKey			0x1e#define 	downArrowKey		0x1f#define 	tabkey				0x9#define		enterKey			0x03#define		deleteKey			0x08#define		returnKey			0x0d#define		escapeKey			0x1b#define		periodKey			0x2e	typedef unsigned char Str64[65];/* Alert kinds used by the DisplayAlert procedure. */	typedef enum { displayTheAlert, displayStopAlert, displayNoteAlert, displayCautionAlert, 				   displayYNAlert, displayYNCAlert, displayYNCStopAlert, displayCancelDefaultCautionAlert } AlertType;/* Icon kinds used by the ChooseIcon function */	typedef enum { noIcon, normalIcon, reducedIcon, smallIcon,				   onlyICON, onlyICNPound } IconType;	 /* This defines the various types of icons handled by the icon chooser package. 	 	Passing onlyICON in the IconKind parameter of the ChooseIcon function forces the 		IconChooser to not allow reduced ICONs and SICNs. Passing onlyICNPound in 		the IconKind parameter uses ICN# resources instead of ICONs. Passing any	 	other value instructs the IconChooser to support regular ICONs, reduced ICONs, 		and SICNs (like in the MENU editor).		         *//* Kinds of windows that support color in different degrees */	typedef enum { noColor, canColor, requiresColor } ColorType;/* This structure is used by the GetQuickDrawVars procedure. */	typedef struct  {		long 	randSeed;		BitMap 	screenBits;		Cursor 	arrow;		Pattern dkGray;		Pattern ltGray;		Pattern gray;		Pattern black;		Pattern white;		GrafPtr thePort;	} QuickDrawVars;	typedef	QuickDrawVars	*pQuickDrawVars;		typedef enum {textOnlyPicker, graphical1DPicker, graphical2DPicker} PickerType;		/* window types used to set the windowType field of the ParentHandle */	typedef enum {typePickerWindow, resourcePickerWindow, 				  folderInfoWindow, fileInfoWindow, resourceInfoWindow,				  editorWindow, floatingWindow} PossibleWindowTypes;	typedef	struct ParentRec	*ParentPtr;	typedef	ParentPtr			*ParentHandle;	typedef	struct ParentRec {		ParentHandle		father;		Str255				name;			/* Max 255 characters */		WindowPeek			wind;		Boolean				rebuild;		/* Flag set to indicate that window should be rebuilt  */		Boolean				resWasntLoaded;	/* TRUE if the resource should be released when the window is closed. */		unsigned char		windowType;		ResType				theResType;		/* Type of the resource being picked or edited. */		short				theResFile;		/* The home resfile of the window. */		short				codeResID;		/* Resource ID of the RSSC resource containing the picker or editor. */		Handle				theResToEdit;	} ParentRec;	/* ViewTypes to be used with the viewBy item in the PickRec */	typedef enum {viewById, viewByName, viewBySize, viewByOrder, viewBySpecial} ViewTypes;/* Standard picker record */	typedef struct PickRec {		ParentHandle		father;			/* Back ptr to dad 			*/		Str255				fName;			/* Max 255 characters. 		*/		 		WindowPtr			wind;			/* Picker window 		*/		Boolean				rebuild;		/* Flag set to indicate that window should be rebuilt  */		Boolean				spare1;			/* Not used here */		unsigned char		windowType;		ResType				theResType;		/* Type of the resource being picked or edited. */		short				theResFile;		/* The home resfile of the window. */		short				codeResID;		/* Resource ID of the RSSC resource containing the picker or editor. */		Handle				spare2;			/* Not used here */		ResType				rType;			/* Type for this picker 	*/		long				rSize;			/* size of a null resource 	*/		short				minWindowWidth;	/* Use when the window is grown. */		short				minWindowHeight;		ListHandle			instances;		/* List of instances 		*/		short				nInsts;			/* Number of instances 		*/		unsigned char		viewBy;			/* Current view type		*/		Boolean				showAttributes;	/* Show attrs in window?	*/		ResType				ldefType;		/* Which LDEF to use		*/		MenuHandle			theViewMenu;	/* The picker view menu		*/		long				viewMenuMask;	/* Which items are enabled?	*/		Cell				cellSize;		/* Size for special view.	*/		Str255				optionCreateStr;/* Create item menu text when the option key is pressed. */	} PickRec;		typedef	PickRec	*PickPtr;	typedef	PickPtr	*PickHandle;	typedef struct FloatingWindowRec {		ParentHandle		father;			/* Back ptr to dad 			*/		Str255				name;			/* Max 255 characters. 		*/		 		WindowPtr			wind;			/* Floating window 		*/		Boolean				rebuild;		/* Flag set to indicate that window should be rebuilt  */		Boolean				visible;		/* Is the window hidden temporarily? */		unsigned char		windowType;		ResType				theResType;		/* Type of the resource being picked or edited. */		short				theResFile;		/* The home resfile of the window. */		short				codeResID;		/* Resource ID of the RSSC resource containing the picker or editor. */		WindowPtr			ownerWindow;	/* Which window owns this floating window? */	} FloatingWindowRec;	typedef FloatingWindowRec *FloatingWindowPtr;	typedef FloatingWindowPtr *FloatingWindowHandle;	typedef pascal void (*DrawResProcPtr) (Rect *lRect, Handle theIcon);/* Window Utilities */pascal Boolean		AlreadyOpen (StringPtr windowTitle, StringPtr windowName, ParentHandle parent);pascal WindowPtr	EditorWindSetup (short dlogID, ColorType colorKind, short width, short height, StringPtr windowTitle, 									 StringPtr windowName, Boolean addFrom, short windowKind, ParentHandle parent);pascal WindowPtr	FloatingWindowSetup (short WINDID, FloatingWindowHandle fw,							   			 ParentHandle owner, Point where);pascal void			GetWindowTitle (StringPtr windowTitle, StringPtr windowName, Boolean addFrom,									ParentHandle parent);pascal WindowPtr	PickerWindSetup (ColorType colorKind, Boolean showTheWindow, short width, short height, 									 StringPtr windowTitle, short windowKind, ParentHandle parent);pascal void			SetETitle(Handle h, StringPtr str);pascal WindowPtr	WindAlloc(void);pascal void			WindReturn(WindowPtr w);/* Extended Resource Manager */pascal Boolean		REAddNewRes(short resFile, Handle hNew, ResType t, short idNew, const Str255 s);pascal void			REAddResource(short resFile, Handle theResource,								  ResType theType, short theID, const Str255 name);pascal short		REBeautifulUnique1ID(short resFile, ResType WhichType);pascal short		RECount1Resources(short resFile, ResType theType);pascal short		RECount1Types (short resFile);pascal Handle		REGet1IndResource(short resFile, ResType theType, short index);pascal void			REGet1IndType(short resFile, ResType *theType, short index);pascal Handle		REGet1NamedResource(short resFile, ResType theType, const Str255 name);pascal Handle		REGet1Resource(short resFile, ResType theType, short theID);pascal Handle		REGet1ResourceSpecial (short resFile, ResType theType, short ID, 										   Boolean *wasLoaded, short *error);pascal Handle		RENewUniqueRes(short resFile, long s, ResType t);pascal void			RERemoveAnyResource (short resFile, Handle theRes);pascal Boolean		RevertThisResource (ParentHandle parent, Handle theRes);/* Routines used by pickers. */pascal short		DefaultListCellSize(void);pascal Boolean		DoPickBirth(ColorType colorKind, Boolean buildList, PickerType which,								short pickerResId, PickHandle pick);pascal void			DrawLDEF (short message, Boolean lSelect, const Rect *lRect, Handle theRes,							  short id, StringPtr title, short maxH, short maxV, 							  DrawResProcPtr DrawResource, ListHandle lh);pascal void			GrowMyWindow (short minWidth, short minHeight, WindowPtr windPtr, ListHandle lh);pascal void			PickEvent(EventRecord *evt, PickHandle pick);pascal void			PickInfoUp(short oldID, short newID, PickHandle pick);pascal void			PickMenu(short menu, short item, PickHandle pick);pascal short		PickStdHeight(void);pascal short		PickStdWidth(void);/* Routines used by editors. */pascal Boolean		CloseNoSave(void);pascal Boolean		NeedToRevert (WindowPtr myWindow, Handle theRes);pascal void			NoDoubleClickHere(void);pascal void			SetResChanged(Handle h);pascal Boolean		WasItLoaded(void);/* These routines are used to start pickers and editors.*/pascal void			GiveEBirth(Handle resHandle, PickHandle pick);pascal void			GiveSubEBirth(Handle resHandle, PickHandle pick);pascal void			GiveThisEBirth(Handle resHandle, PickHandle pick, ResType openThisType);/* These routines are used to feed events and menu calls to the appropriate picker or editor. */pascal void 		CallDoEvent (EventRecord *evt, WindowPtr theWindow);pascal void			CallInfoUpdate(short oldID, short newID, long object, short id);pascal void 		PassEvent (EventRecord *evt, ParentHandle parent);pascal void 		PassMenu(short menu, short item, ParentHandle parent);/* Miscellaneous utilities */pascal void			Abort(void);pascal void			AbleMenu(short menu, long enable);pascal void			BubbleUp(Handle);pascal void			CenterDialog (ResType theType, short dialog);pascal Boolean		CheckError(short err, short msgID);pascal Boolean		ChooseIcon(ParentHandle parent, short *IconResID, IconType *IconKind,								short dialogID);pascal Boolean		ColorAvailable(Boolean needColorQD);pascal void			ConcatStr(StringPtr str1, StringPtr str2);pascal short		DisplayAlert(AlertType which, short id);pascal Boolean		DisplaySTRAlert(AlertType which, const Str255 STRName, short STRIndex);pascal void			DrawMBarLater(Boolean forceItNow);pascal WindowPtr	FindOwnerWindow (Handle theRes);pascal void			FixHand(long s, Handle h);pascal void			FlashDialogItem (DialogPtr dp, short item);pascal void			FrameDialogItem (DialogPtr dp, short item);pascal void			GetNamedStr(short index, const Str255 name, StringPtr str);pascal pQuickDrawVars GetQuickDrawVars(void);pascal Rect			GetScreenRect(Boolean roomForIcons, WindowPtr wind);pascal void			GetStr(short index, short resID, StringPtr str);pascal Boolean		HandleCheck(Handle h, short msgID);pascal void			MetaKeys(Boolean *cmd, Boolean *shift, Boolean *opt);pascal Handle		PrintSetup(void);		/* Return type is actually THPrint */pascal void			PrintWindow (PicHandle toPrint);pascal short		ResEdID(void);pascal void			SetTheCursor (short whichCursor);pascal void			ShowInfo(Handle h, ParentHandle parent);pascal Boolean		StandardFilter(DialogPtr theDialog, EventRecord *theEvent, short *itemHit);pascal void			TypeToString(ResType t, StringPtr s);pascal void			UseAppRes(void); pascal Boolean		WasAborted(void);/* Popup Menus */pascal Boolean		ColorPalettePopupSelect(WindowPtr whichWindow, Rect *itemBox,						  	RGBColor *whichColor, Boolean CQDishere, Boolean useColorPicker );pascal void			DeinstallColorPalettePopup(WindowPtr whichWindow, Boolean CQDishere);pascal void			DoPopup(DialogPtr whichDialog, short promptDialogItem,							 short popupDialogItem, short *menuItem, MenuHandle whichMenu);pascal void			DrawColorPopup(WindowPtr whichWindow, Rect *itemBox,						  		   RGBColor *whichColor, Boolean CQDishere);pascal void			DrawPopup(DialogPtr whichDialog, short whichDialogItem,							   short whichMenuItem, MenuHandle whichMenu);pascal void			InstallColorPalettePopup(WindowPtr whichWindow, Boolean CQDishere,											 Boolean isActive);	/* Routines that are used internally within ResEdit and may be useful in other	circumstances. */	pascal short		BuildType(ResType t, ListHandle lh);pascal Boolean		CompressedResource(Handle theResource);pascal void			DoKeyScan(EventRecord *evt, short offset, ListHandle lh);pascal Handle		DupPick(Handle h, Cell c, PickHandle pick);pascal void			GetErrorText (short error, StringPtr errorText);pascal short		GetResEditScrapFile(void);pascal Boolean		GetType(Boolean templatesOnly, StringPtr s);pascal ResType		MapResourceType (Boolean editor, Handle theRes, ResType origResType);pascal Boolean		PlaySyncSound(short which, Handle sndHandle);pascal short		ResEditRes(void) =					{0x3eB8, 0x0900};	/* move.w	CurApRefNum,(sp) */pascal void			ResourceIDHasChanged (ParentHandle parent, ResType theType, short theOldId, short theNewId);pascal Boolean		RestoreRemovedResources (PickHandle pick);pascal void			ScrapCopy(ResType theType, Handle *h);pascal void			ScrapEmpty(void);pascal void			SendRebuildToPicker (ResType theType, ParentHandle parent);pascal void			SendRebuildToPickerAndFile (ResType theType, ParentHandle parent) ;pascal short		SysResFile(void);pascal ListHandle	WindList(WindowPtr w, short nAcross, Point cSize, short drawProc);pascal void			WindOrigin(WindowPtr w, ParentHandle parent);pascal void			WritePreferences (ResType prefType, short prefId, const Str255 prefName, Handle prefHandle);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Œ   Œ   R  Instructions for C ExamplesCResEd.h   TEXTMPS @         J  TEXTMPS @                       ¤¡Hø      ÞExamples   Note: For more information about building the sample programs, see   Chapter 1 of the Macintosh Programmer's Worksh   H 	Monaco : ê 4 õ :eµ   < +|à        * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "çx                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  /*File ResXXXXEd.cCopyright Apple Computer, Inc. 1985-1990All rights reserved.*/#include	<types.h>#include	<memory.h>#include	<menus.h>#include	<resources.h>#include	"ResEd.h"#define		windowWidth			300#define		windowHeight		100#define		sizeOfXXXXResource	10typedef struct rXXXXRec	{	ParentHandle	father;			/* Back ptr to dad */	Str255			name;			/* The name of this editor */	WindowPtr		wind;			/* This view's window */	Boolean			rebuild;		/* Set true if things have changed */	Boolean			resWasntLoaded;	/* TRUE if the resource should be released when the window is closed. */	unsigned char	windowType;	ResType			theResType;		/* Type of the resource beingedited. */	short			theResFile;		/* The home resfile of the window. */	short			codeResID;		/* Resource ID of the RSSC resource containing the picker or editor. */	Handle			hXXXX;			/* The resource we are working on */	} rXXXXRec;typedef rXXXXRec	*rXXXXPtr;typedef rXXXXPtr	*rXXXXHandle;/* Function prototypes. */pascal void DoMenu(short menu, short item, rXXXXHandle myXXXX);/*- -	-  -  - -  -  -  - -  -  -	- -  -	-  - -	-  -  - -  -  -*//* Fix up the window name and title for our window. */void GetNameAndTitle(StringPtr windowTitle,StringPtr windowName,Handle thing)	{	strcpy(windowTitle,"\pXXXX");	SetETitle(thing,windowTitle);	strncpy(windowName,windowTitle,*windowTitle + 1);	/* Add 1 for the length byte */	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*/pascal void EditBirth(Handle thing,ParentHandle dad)	{	rXXXXHandle		myXXXX;	WindowPtr		myWindow;	Str255			windowTitle,windowName;	/* Prepare window title and request creation of a new window */	GetNameAndTitle(windowTitle, windowName, thing);	myWindow = EditorWindSetup(noDialog, noColor, windowWidth, windowHeight, windowTitle, windowName, true, ResEdID(), dad);	/* If we got a new window, then start up the editor */	if (myWindow != nil)		{		/* This was called via a NEW, so make a new resource. */		if (GetHandleSize(thing) == 0L)			FixHand(sizeOfXXXXResource,thing);		/* Get memory for and handle to our instance record */		myXXXX = (rXXXXHandle)NewHandle(sizeof(rXXXXRec));		if (MemError() != noErr)			{			CloseWindow(myWindow);			WindReturn(myWindow);				/* Mark the window record as being available */			return;			}		/* Put information about this incarnation of the editor and the window it is */		/* serving into our record.(always passed around in the handle myXXXX).	 */		(*myXXXX)->father = dad;		strncpy((*myXXXX)->name, windowName, windowName[0] + 1);	/* Add 1 for the length byte */		(*myXXXX)->wind = myWindow;		(*myXXXX)->rebuild = false;		(*myXXXX)->resWasntLoaded = !WasItLoaded();		(*myXXXX)->windowType = editorWindow;		(*myXXXX)->theResType = 'XXXX';		(*myXXXX)->theResFile = HomeResFile(thing);		(*myXXXX)->codeResID = ResEdID();		(*myXXXX)->hXXXX = thing;						/* Let the main program know who is to manage this window by giving it both	*/		/* our resource ID number and our instance record handle.		*/		((WindowPeek)myWindow)->refCon = (long)myXXXX;		/* Set up any menus,views, etc. for this window here. */		}	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*//* Not used for editors. */pascal void PickBirth(ResType t, ParentHandle dad)	{#pragma	unused (t, dad)	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*/pascal void DoEvent(EventRecord *evt, rXXXXHandle myXXXX)	{	Point		mousePoint;	BubbleUp((Handle)myXXXX);		/* Move our item up in memory */	HLock((Handle)myXXXX);			/* Lock it down */	/* Handle event passed to us by main program.  Just like a 'real' event loop, exceptÉ	*/	/* there is no loop and we don't have to handle as much because the main program	*/	/* will do all the stuff that doesn't apply to us.					*/	SetPort((*myXXXX)->wind);		/* Set the port to our window */	switch (evt->what)		{		case mouseDown:			mousePoint = evt->where;	/* Point at which the event occured */			GlobalToLocal(&mousePoint);	/* Convert event location to local coords */			break;						/* Do any special mouse down processing here. */			case activateEvt:			if (evt->modifiers & activeFlag)				{				AbleMenu(editMenu, editNone);				/* Do any activate processing here (such as inserting a menu) */				}			else				{				/* Do any deactivate processing here (such as deleting a menu). */				}			break;			case updateEvt:			/* Do the appropriate update processing here.  Remember that BeginUpdate has already been called. */			PaintRect(&(*myXXXX)->wind->portRect);			break;			case keyDown:			/* Do any key processing here. */			if ((evt->message & charCodeMask) == deleteKey)	/* Convert the delete character into a clear command. */				{				DoMenu(editMenu, clearItem, myXXXX);			}		break;	case nullEvent:		/* Do any null event processing here (such as blinking a cursor).	*/		break;		}	HUnlock((Handle)myXXXX);	}	/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*/pascal void DoInfoUpdate(short oldID, short newID, rXXXXHandle myXXXX)	{	ParentHandle 	father = (*myXXXX)->father;	Str255			windowTitle,windowName;	HLock((Handle)myXXXX);	/* Since our ID has changed, we need to change our window title */	GetNameAndTitle(windowTitle, windowName, (Handle)(*myXXXX)->hXXXX);	GetWindowTitle(windowTitle, windowName,true, (*myXXXX)->father);	/* Save the new name in my data structure. */	strncpy((*myXXXX)->name, windowName, windowName[0] + 1);	/* Add 1 for the length byte. */	SetWTitle((*myXXXX)->wind, windowTitle);	/* Set the new window title. */	/* Now, let our father object know that our ID has been changed */	(*father)->rebuild = true;			/* Rebuild the picker list. */	CallInfoUpdate(oldID, newID, (long)father, (*father)->wind->windowKind);	HUnlock((Handle)myXXXX);	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*/pascal Boolean IsThisYours(Handle thing, rXXXXHandle myXXXX)	{	return (thing == (Handle)(*myXXXX)->hXXXX);	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*//* 	Close down the window and get rid of any memory that has been allocated.	Returns TRUE if the operation was successful. If notRevert is false the resource isn't	released and the data handle isn't disposed (though all the handles it contains	are disposed).  */static Boolean DoClose(Boolean notRevert, rXXXXHandle myXXXX)	{	PassMenu (fileMenu, closeItem, (ParentHandle)myXXXX);	if (WasAborted())		{		return false;		}	else		{		CloseWindow((*myXXXX)->wind);		WindReturn((*myXXXX)->wind);	/* Mark the window record as being available */		SetTheCursor(arrowCursor);	/* Make sure the cursor is the arrow cursor */			/* Delete any menus that we added and redraw the menu bar.	*/		/* Be sure to dispose of any handles you are done with.		*/		/* Release the resource if we were launched from a picker. */		if ((notRevert) && ((*myXXXX)->resWasntLoaded) && ((*((*myXXXX)->father))->windowType != editorWindow))			ReleaseResource((Handle)(*myXXXX)->hXXXX);	/* Let it be free (if it is not changed)! */				if (notRevert)			DisposHandle((Handle)myXXXX);		return true;		}	}/*- -  -  -	- -  -	-  - -	-  -  - -  -  -  - -  -  -	- -  -	-*/pascal void DoMenu(short menu, short item, rXXXXHandle myXXXX)	{	BubbleUp((Handle)myXXXX);	HLock((Handle)myXXXX);	SetPort((*myXXXX)->wind);					/* Set the port to our window */	/* Again, we handle the menu stuff just as we would in a 'real' application	*/	/* except that we only have to handle those items that apply to our editor.	*/			switch (menu)		{		case fileMenu:			switch (item)				{				case closeItem:					if (DoClose(true, myXXXX))	/* Close our window						*/						{						return;					/* Return immediately since our resource is gone! */						}					break;				case saveItem:				/* Pass the save on to other windows.	*/					PassMenu(fileMenu,saveItem, (ParentHandle)myXXXX);					break;				case printItem:					PrintWindow(nil);					break;				}			break;		case rsrcMenu:			switch(item)				{				case rsrcRevertItem:					if (NeedToRevert((*myXXXX)->wind, (Handle)(*myXXXX)->hXXXX))						{						/* The area under the window will need to be updated 	*/						InvalRect(&(*myXXXX)->wind->portRect);								/* Read in the old copy from disk (see documentation for revertResource)	*/						/* Clear it out unless this was a newly created resource	*/						if (!RevertThisResource((ParentHandle)myXXXX, (Handle)(*myXXXX)->hXXXX))							{							/* The resource was newly added so we need to remove it.*/									/* Make sure that the picker list is rebuilt to remove this item. 										*/							(*((*myXXXX)->father))->rebuild = true;									if (DoClose(false, myXXXX))	/* Close the window.			*/								{								RERemoveAnyResource((*myXXXX)->theResFile, (*myXXXX)->hXXXX);	/* Dispose the resource itself. */								DisposHandle((Handle)myXXXX);								return;					/* Since the resource is gone.	*/								}							}						}					break;				case rsrcGetInfoItem:		/* Show GetInfo window */					ShowInfo((Handle)(*myXXXX)->hXXXX,(ParentHandle)myXXXX);					break;				}			break;		case editMenu:			/* Implement the edit menu here	*/			switch (item)				{				case cutItem:					break;				case copyItem:					break;				case pasteItem:					break;				case clearItem:					break;				}			break;		}	HUnlock((Handle)myXXXX);	}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Œ   Œ   Ram know who is to manage this wiXXXX.Edit.c   TEXTMPS @         TEXTMPS @                       ¤¡Hø      Þ handle.		}				WITH WindowPeek(myWindow)^ DO					BEGIN					windowKind := ResEdID;					refCon := ORD(myXXXX);					END; {WITH}   H 	Monaco 985-1989All rights reser   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "ç¬                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ; COPYRIGHT (C) 1984-1990 Apple Computer,Inc.; All rights reserved;LDEF.a              BLANKS        ON              STRING        ASISStdLDEF	MAIN EXPORT 	IMPORT DrawCell	                    BRA.S	 @0		     ; enter here               DC.W	  0       ; flags word               DC.B	   'LDEF'		     ; type               DC.W	  0       ; ID               DC.W	  0       ; version@0               JMP	 DrawCell		END                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Œ   Œ   RNT  &	HackPaintWORD  & WordRMLDEF.a´   TEXTMPS @         O  TEXTMPS @                       ¤¡Hø      ÞRMKR   kWizard's FireMACG   kSoc ClimberPRAM   kPRAMLPRPR   kPrHRPM*   k	Orion 1.0LIFE   kNULifezMEGR   k	MegaroidsMAND   k
M   H 	Monaco }}}}}}}}}}}}}}}}}}}}}}}}}   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "ç`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ; File ResDisp.a;; COPYRIGHT (C) 1984-1990 Apple Computer,Inc.; All rights reserved; Linking with this code allows Pickers, Editors or whatever to call; certain routines in ResEditÕs CODE segments.	PROCApplScratch	equ	$a78; Calls back to main program			EXPORT	DrawLDEF            EXPORT	BubbleUp			EXPORT	REGet1IndResource			EXPORT	RECount1Resources			EXPORT	UseAppRes			EXPORT	REGet1Resource			EXPORT	REGet1ResourceSpecial			EXPORT	ColorAvailable            EXPORT	GetStr			EXPORT	GetNamedStr            EXPORT	CallInfoUpdate            EXPORT	PassMenu			EXPORT	GiveSubEBirth			EXPORT	GetQuickDrawVars			EXPORT	NeedToRevert			EXPORT	DisplayStrAlert			EXPORT	DrawPopup			EXPORT	DoPopup			EXPORT	NoDoubleClickHere			EXPORT	SendRebuildToPickerAndFile            EXPORT	WindReturn            EXPORT	WindList            EXPORT	WindOrigin            EXPORT	AbleMenu			EXPORT	FindOwnerWindow            EXPORT	BuildType			EXPORT	GrowMyWindow            EXPORT	ConcatStr			EXPORT	PickStdHeight			EXPORT	PickStdWidth			EXPORT	ChooseIcon            EXPORT	DupPick			EXPORT	SysResFile			EXPORT	RevertThisResource            EXPORT	FixHand			EXPORT	CallDoEvent			EXPORT	DrawMBarLater			EXPORT	PassEvent            EXPORT	GiveEBirth            EXPORT	HandleCheck            EXPORT	MetaKeys            EXPORT	PickEvent            EXPORT	PickInfoUp            EXPORT	PickMenu			EXPORT	SendRebuildToPicker            EXPORT	ScrapCopy            EXPORT	ScrapEmpty            EXPORT	ScrapPaste            EXPORT	SetResChanged            EXPORT	SetETitle			EXPORT	GetResEditScrapFile			EXPORT	FloatingWindowSetup            EXPORT	ShowInfo	    	EXPORT	GiveThisEBirth	    	    	EXPORT	KillCache	    	EXPORT	DefaultListCellSize			EXPORT	DoKeyScan			EXPORT	TypeToString			EXPORT	FrameDialogItem			EXPORT	FlashDialogItem			EXPORT	AlreadyOpen			EXPORT	EditorWindSetup			EXPORT	GetWindowTitle			EXPORT	Abort			EXPORT	DisplayAlert			EXPORT	WasAborted			EXPORT	GetType			EXPORT	CheckError			EXPORT	CloseNoSave 			EXPORT	SetTheCursor			EXPORT	RestoreRemovedResources			EXPORT	MapResourceType			EXPORT	WasItLoaded			EXPORT	PickerWindSetup			EXPORT	PrintWindow			EXPORT	PrintSetup			EXPORT	DoPickBirth			EXPORT	WritePreferences			EXPORT	GetErrorText			EXPORT	CenterDialog			EXPORT	PlaySyncSound			EXPORT	ResourceIDHasChanged						EXPORT	InstallColorPalettePopup            EXPORT	WindAlloc			EXPORT	DrawColorPopup			EXPORT	ColorPalettePopupSelect			EXPORT	DeinstallColorPalettePopup			EXPORT	RERemoveAnyResource			EXPORT	REAddNewRes			EXPORT	RENewUniqueRes			EXPORT	REBeautifulUnique1ID			EXPORT	RECount1Types			EXPORT	REGet1IndType			EXPORT	REGet1NamedResource			EXPORT	REAddResource						EXPORT	StandardFilter;DrawLDEF			JSR	DivingBoard		;  1BubbleUp   			JSR DivingBoardREGet1IndResource	JSR DivingBoardRECount1Resources   JSR DivingBoardUseAppRes  			JSR DivingBoard		;  5REGet1Resource		JSR	DivingBoardREGet1ResourceSpecial JSR	DivingBoard	; 7ColorAvailable    	JSR DivingBoardGetStr    			JSR DivingBoardGetNamedStr			JSR DivingBoard		; 10BuildType   		JSR DivingBoardGrowMyWindow		JSR DivingBoardColorPalettePopupSelect	JSR DivingBoardConcatStr   		JSR	DivingBoardPickStdHeight		JSR	DivingBoardPickStdWidth		JSR	DivingBoardChooseIcon			JSR	DivingBoardDeinstallColorPalettePopup	JSR	DivingBoardDupPick	   			JSR	DivingBoardSysResFile	 		JSR	DivingBoard		; 20RevertThisResource	JSR	DivingBoardFixHand	   			JSR	DivingBoardDrawColorPopup		JSR	DivingBoardDrawMBarLater  		JSR	DivingBoard			CallDoEvent			JSR	DivingBoardPassEvent    		JSR	DivingBoardGiveEBirth 			JSR	DivingBoardHandleCheck			JSR	DivingBoardMetaKeys   			JSR	DivingBoardAbleMenu	   	JSR	DivingBoard		; 30PickEvent  			JSR	DivingBoardPickInfoUp 			JSR	DivingBoardPickMenu   			JSR	DivingBoardSendRebuildToPicker	JSR	DivingBoardScrapCopy  			JSR	DivingBoardScrapEmpty 			JSR	DivingBoardScrapPaste 			JSR	DivingBoardSetResChanged		JSR	DivingBoardShowInfo   			JSR	DivingBoardSetETitle  			JSR	DivingBoard		; 40GetResEditScrapFile JSR	DivingBoardFloatingWindowSetup JSR	DivingBoardCallInfoUpdate		JSR	DivingBoardPassMenu   			JSR	DivingBoardGiveSubEBirth  		JSR	DivingBoardGetQuickDrawVars 	JSR	DivingBoardNeedToRevert		JSR	DivingBoardDisplayStrAlert		JSR	DivingBoard	  	; 48DrawPopup			JSR	DivingBoard	    ; 49GiveThisEBirth		JSR	DivingBoard		; 50WindReturn			JSR	DivingBoard		; 51KillCache			JSR	DivingBoard		; 52DefaultListCellSize	JSR	DivingBoard		; 53DoKeyScan			JSR	DivingBoard		; 54TypeToString		JSR	DivingBoard		; 55FrameDialogItem		JSR	DivingBoard		; 56FlashDialogItem		JSR	DivingBoard		; 57AlreadyOpen			JSR	DivingBoard		; 58EditorWindSetup		JSR	DivingBoard		; 59GetWindowTitle		JSR	DivingBoard		; 60Abort				JSR	DivingBoard		; 61DisplayAlert		JSR	DivingBoard		; 62WasAborted			JSR	DivingBoard		; 63GetType				JSR	DivingBoard		; 64CheckError			JSR DivingBoard		; 65CloseNoSave			JSR DivingBoard		; 66SetTheCursor		JSR DivingBoard		; 67RestoreRemovedResources JSR DivingBoard	; 68MapResourceType		JSR DivingBoard		; 69WasItLoaded			JSR DivingBoard		; 70PickerWindSetup		JSR	DivingBoard		; 71WindOrigin			JSR	DivingBoard		; 72FindOwnerWindow		JSR	DivingBoard		; 73PrintWindow			JSR	DivingBoard		; 74PrintSetup			JSR	DivingBoard		; 75NoDoubleClickHere	JSR	DivingBoard		; 76DoPickBirth			JSR	DivingBoard		; 77WritePreferences	JSR	DivingBoard		; 78GetErrorText		JSR	DivingBoard		; 79CenterDialog		JSR	DivingBoard		; 80PlaySyncSound		JSR	DivingBoard		; 81ResourceIDHasChanged JSR DivingBoard	; 82RERemoveAnyResource	JSR  DivingBoard	; 83REAddNewRes			JSR  DivingBoard	; 84RENewUniqueRes		JSR  DivingBoard	; 85REBeautifulUnique1ID JSR  DivingBoard	; 86RECount1Types		JSR  DivingBoard	; 87SendRebuildToPickerAndFile	JSR	DivingBoard		; 88WindList			JSR	DivingBoard		; 89REGet1IndType		JSR	DivingBoard		; 90InstallColorPalettePopup	JSR	DivingBoard		; 91WindAlloc    		JSR DivingBoard		; 92REGet1NamedResource	JSR	DivingBoard		; 93REAddResource		JSR	DivingBoard		; 94					JSR	DivingBoard		; 95		UNUSED					JSR	DivingBoard		; 96		UNUSEDStandardFilter		JSR	DivingBoard		; 97DoPopup				JSR	DivingBoard		; 98			; Max 120DivingBoard            LEA	        DrawLDEF+4,A1            MOVE.L      (SP)+,A0            SUB.L       A1,A0            ADD.L       ApplScratch,A0            MOVE.L      (A0),A0            JMP	        (A0)	END                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Œ   Œ   Re            _GetResInfo     	ResDisp.a   TEXTMPS @           TEXTMPS @                       ¤¡Hø      Þ      BRA.S	    lbrcstr	  ;first count how many characters are in the string          MOVE.L    A2,A0		     ;get temporary point   H 	Monaco 7 Apple Computer,Inc.; A   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "è(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ;; COPYRIGHT (C) 1984-1990 Apple Computer,Inc.; All rights reserved; This is the standard interface for a Resource Standard Code segment for use; by the resource editor.  The main resource editor will dispatch to this code; when the user opens the respective type for editing.  Dispatches will also; occur with menu commands and events for this window.  This code should be; included in the resource editor file under type RSSC with any unique ID.  It's; resource name should consist of the type it's willing to edit or 'ALL' if it; can edit all types of resources. {This comment is too old...}; Each code segment MUST have a window and its kind MUST be the ID of the code and; the refcon usually contains the handle to the instance of the object who's; owned by the code.  On activate/deactivate events, the code can put up and; remove any menus if desired.; The standard routines are:;	    EditBirth( thing:Handle; parent: ParentHandle );;	    PickBirth( t: ResType; parent: ParentHandle );;	    DoMenu( menu, item: INTEGER; object: Handle );;	    DoEvent( VAR evt: EvtRecord; object: Handle );            BLANKS      ON            STRING      ASIS	    INCLUDE	'Traps.a'StdRSSC      MAIN; Implemented in pascal for now...            IMPORT      PickBirth            IMPORT      EditBirth            IMPORT      DoEvent            IMPORT      DoMenu            IMPORT      DoInfoUpdate	    IMPORT	IsThisYours            EXPORT      ResEdIDStdHeader            DC.L        ('RSSC')            DC.W        JEditBirth-StdHeader            DC.W        JPickBirth-StdHeader            DC.W        JDoEvent-StdHeader            DC.W        JDoMenu-StdHeader            DC.W        JDoInfoUpdate-StdHeader            DC.W        JIsThisYours-StdHeader            DC.W        0            DC.W        0            DC.W        0JEditBirth; someday search for a window which satisfies this request            JMP	        EditBirthJPickBirth            JMP	        PickBirthJDoEvent            JMP	        DoEventJDoMenu            JMP	        DoMenuJDoInfoUpdate            JMP	        DoInfoUpdateJIsThisYours	    JMP		IsThisYours; Gets Res ID of self and returns it;	    FUNCTION ResEdID: INTEGER;ResEdID            LINK        A6,#-256            LEA	        StdHeader,A0            _RecoverHandle            MOVE.L      A0,-(SP)	        ; pass handle            PEA	        8(A6)		        ; function result            PEA	        -256(A6)	        ; ignore type            MOVE.L      (SP),-(SP)	        ; ignore name            _GetResInfo            UNLK        A6            RTS            END                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Œ   Œ   R  .ÿüÑª `5A JAfp `pÿLî ÿøRSSC.a´   TEXTMPS @         Q  TEXTMPS @                       ¤¡Hø      Þ n  m n`r²€f`r²€f`p`p`p``  ~ n /( / "j  Q0( HÀ/ N­
J@f( n Jg  n B n Hh "j  Q0( HÀ/ N­`b j "PRQ`> j   H 	Monaco }}}}}}}}}}}}}}}}}}}}}}}}}   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "çd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  { COPYRIGHT (C) 1984-1990 Apple Computer,Inc. All rights reserved}UNIT IconLDEF;INTERFACEUses	MemTypes, QuickDraw, OSIntf, ToolIntf, PackIntf,			ResEd;PROCEDURE DrawCell( Message: INTEGER; lSelect: BOOLEAN; lRect: Rect; lCell: Point;                    lDataOffset, lDataLen: INTEGER; lh: ListHandle );IMPLEMENTATIONPROCEDURE DrawIcon (lRect: Rect; theIcon: Handle);CONST IconSize = 128;BEGINIF (SizeResource(theIcon) >= IconSize) THEN	PlotIcon(lRect, theIcon);END;{ This is the custom drawProc for the list (which contains the resource ID's).  It	simply draws the icon in the given rect and frames a selection rect around it if	told to. 	NOTE:  This is used by both ICON and ICN# pickers. }PROCEDURE DrawCell(Message: INTEGER; lSelect: BOOLEAN; lRect: Rect; lCell: Point;                   lDataOffset, lDataLen: INTEGER; lh: ListHandle);VAR	theIcon: Handle;	id: INTEGER;	wasLoaded: BOOLEAN;		{ This routine simply looks up in the list at the given cell, extracts the ID and		gets the resource called for.  Returns NIL if not found.  Note, this assumes		the resfile is set up correctly }	FUNCTION  IconFetch(lCell: point; lHandle: ListHandle): Handle ;	VAR		len: INTEGER;		err: OsErr;		tempH:Handle;			BEGIN	IconFetch := NIL;	len:=2;	LGetCell(@id, len, lCell, lHandle);	{ Get the ID from the list. }	IF len > 0 THEN		BEGIN	{ Load the resource since we want to draw it. }		tempH := REGet1ResourceSpecial(PickHandle(lHandle^^.refCon)^^.theResFile, PickHandle(lHandle^^.refCon)^^.rType, id, wasLoaded, err);		IconFetch := tempH;		END;	END;BEGIN	{ DrawCell }CASE  message OF	lDrawMsg, lHiliteMsg:		BEGIN		theIcon := IconFetch(lCell, lh);		DrawLDEF (message, lSelect, lRect, theIcon, id, '', 32, 32, @DrawIcon, lh);				IF (theIcon <> NIL) & (NOT wasLoaded) THEN			HPurge(theIcon);		END;	END;END;END.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Œ   Œ   R          PlotIcon( r, i );    ICON.LDEF.p   TEXTMPS @         TEXTMPS @                       ¤¡Hø      Þ     RTS TO 3 DO   Begin{Inval views on grey}   OffsetRect( r, realDelta, 0);   InvalRect( r );   End;End;{InvalSmallViews}   H 	Monaco ¸¹ÿ:€ÿ;€¹ÿÿ 
   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "ç¬                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  { COPYRIGHT (C) 1984-1990 Apple Computer,Inc. All rights reserved}UNIT IconPick;{ Icon Resource Picker }{ This is the Icon resource picker example.	The general scheme is that a List structure is created whose cells	contain the ID's of this resource type.  A drawproc is installed in the List	record which is called to display the resource. }INTERFACEUSES	MemTypes, QuickDraw, OSIntf, ToolIntf, PackIntf,			ResEd;TYPE	IconPickPtr = ^IconPickRec;	IconPickHandle = ^IconPickPtr;	IconPickRec = RECORD			father: 				ParentHandle;{ Back ptr to dad }			fName: 					STR255;			wind: 					WindowPtr;	{ Picker window }			rebuild: 				BOOLEAN;			spare:					BOOLEAN;			windowType: 		PossibleWindowTypes;			theResType: 		ResType;		{ Type of the resource being picked or edited. }			theResFile:			INTEGER;		{ The home resfile of the window. }			codeResID: 			INTEGER;		{ Resource ID of the RSSC resource containing the picker or editor. }			spare1:					Handle;			{ Not used here}			rType: 					ResType;		{ Type for picker - could be different from theResType }			rSize: 					LONGINT;		{ Size of a null resource }			minWindowWidth:	INTEGER;		{ Used when the window is grown. }			minWindowHeight:INTEGER;			instances:			ListHandle;	{ List of instances }			nInsts: 				INTEGER;		{ Number of instances }			viewBy:					ViewTypes;	{ Current view type }			showAttributes: BOOLEAN;		{ Show attrs in window?	}			ldefType:				ResType;		{ Which LDEF to use }			theViewMenu:		MenuHandle;	{ The picker view menu }			viewMenuMask: 	LONGINT;		{ Which items are enabled? }			cellSize:				Cell;				{ Cell size for special view. }			iconMenu: 			Menuhandle; { our menu }	END;PROCEDURE EditBirth(thing: Handle; dad: ParentHandle);PROCEDURE PickBirth(t: ResType; dad: ParentHandle);PROCEDURE DoEvent(VAR evt: EventRecord; pick: IconPickHandle);PROCEDURE DoInfoUpdate(oldID, newID: INTEGER; pick: PickHandle);FUNCTION  IsThisYours (thing: Handle; pick: PickHandle): BOOLEAN;PROCEDURE DoMenu(menu, item: INTEGER; pick: IconPickHandle);IMPLEMENTATIONCONST	iconMenuID = 10;			{ This just uses one of ResEdit's menus. }		listCellSizeH = $38;	listCellSizeV = $42;		{ Needs to be 2 wide so that I can always tell a 2d list from a normal text list. }	minIconsPerRow = 2;	ICONMinWindowWidth = (minIconsPerRow * listCellSizeH) + theScrollBar;	ICONMinWindowHeight = listCellSizeV;{$R-}PROCEDURE EditBirth(thing: Handle; dad: ParentHandle);BEGINEND;{ *********************************************************************************** }PROCEDURE PickBirth(t: ResType; dad: ParentHandle);VAR	pick: IconPickHandle;	theIconMenu: Menuhandle; 		{ our menu }BEGINpick := IconPickHandle(NewHandle(SIZEOF(IconPickRec)));WITH pick^^ DO	BEGIN	father := dad; 										{ Back ptr to dad }	rType := t; 											{ Resource type }	viewBy := viewBySpecial;	ldefType := t;	cellSize.h := listCellSizeH;	cellSize.v := listCellSizeV;	minWindowWidth := ICONMinWindowWidth;	minWindowHeight := ICONMinWindowHeight;	END;IF NOT DoPickBirth(noColor, TRUE, graphical2DPicker, ResEdId, PickHandle(pick)) THEN	DisposHandle (Handle(pick))ELSE	BEGIN			{ Setup the snd menu }	theIconMenu := GetMenu (iconMenuId);	DetachResource (Handle(theIconMenu));	{ Get our own copy. }	pick^^.iconMenu := theIconMenu;	END;END;{ *********************************************************************************** }{ Everything is taken care of for us by PickEvent.}PROCEDURE DoEvent(VAR evt: EventRecord; pick: IconPickHandle);BEGINPickEvent(evt, PickHandle(pick));IF evt.what = activateEvt THEN	BEGIN	IF ODD(evt.modifiers) THEN		InsertMenu(pick^^.iconMenu, 0)	ELSE		DeleteMenu(iconMenuId);	DrawMBarLater (FALSE);	END;END;{ *********************************************************************************** }{ Everything is taken care of for us by PickInfoUp }PROCEDURE DoInfoUpdate(oldID, newID: INTEGER; pick: PickHandle);BEGINPickInfoUp(oldID, newID, pick);END;{ *********************************************************************************** }FUNCTION IsThisYours (thing: Handle; pick: PickHandle): BOOLEAN;BEGINIsThisYours := FALSE;END;{ *********************************************************************************** }PROCEDURE DoMenu(menu, item: INTEGER; pick: IconPickHandle);BEGINIF menu = iconMenuId THEN	BEGIN	{ Do something with the menu}	ENDELSE	BEGIN	IF (menu = fileMenu) & (item = closeItem) THEN		BEGIN		DeleteMenu(iconMenuId);		DrawMBarLater (FALSE);			DisposHandle (Handle(pick^^.iconMenu));		END;	PickMenu(menu, item, PickHandle(pick));	END;END;END.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Œ   Œ   R     InvalRect(w^.portRect);   ICON.Pick.p   TEXTMPS @         TEXTMPS @                       ¤¡Hø      Þ* VAR evt: EventRecord; pick: PickHandle *);BEGIN    PickEvent( evt, pick );    IF (evt.what = activateEvt) THEN BEGIN           H 	Monaco ges to Yowza:ResEdit:Exam   * Bã * Bã¤ŸUÀ                 * Bã * Bã                 €   2.1.1ResEdit 2.1.1     Œ   Œ   R "èxj    R MPSR  vers   *íÿÿ        ðÿÿ   L     ÿÿ   n "ç`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  { COPYRIGHT (C) 1984-1990 Apple Computer,Inc. All rights reserved	Resource editor interface unit for instances of editors and pickers. This should be	USE'd by any pascal implementation of a resource editor or picker.  The	companion file ResDisp.a.o should be linked with the pascal to build	the file for inclusion in ResEdit.		Pickers are given a resource type and should display all of that type in 	the current resfile in a suitable format.	 If the picker is given an open call 	AND there's a compatible editor, it should give birth to the Editor.  The editor	is given a handle to the resource object and it should open up an edit	window for the user. }UNIT ResEd;INTERFACEUses	Memtypes, QuickDraw, OSIntf, ToolIntf, Printing;CONST	{ Standard menus exported by ResEdit }	fileMenu    = 2;	newFileItem     = 1;	openFileItem	= 2;	openSpecialItem = 3;	closeItem   	= 4;	saveItem 		= 5;	revertItem		= 6;	getThisInfoItem = 8;	getInfoItem 	= 9;	verifyItem		= 10;	pageSetupItem	= 12;	printItem		= 13;	preferencesItem = 15;	quitItem    	= 17;		{ Masks for AbleMenu - normally not used directly. }	newFileMask		= $2;	openFileMask	= $4;	openSpecialMask	= $8;	closeMask		= $10;	saveMask		= $20;	revertMask		= $40;	getThisInfoMask = $100;	getInfoMask		= $200;	verifyMask		= $400;	pageSetupMask	= $1000;	printMask		= $2000;	preferencesMask = $08000;	quitMask		= $020000;	disabledMask	= $1;		{ Mask combinations to be used in calls to AbleMenu. }	fileNotOpen			= disabledMask + newFileMask + openFileMask + openSpecialMask + getInfoMask + 				  		  verifyMask + pageSetupMask + preferencesMask + quitMask;	fileNoPrint 		= fileNotOpen + getThisInfoMask + closeMask + saveMask + revertMask;	fileAll				= fileNoPrint + printMask;	fileNoSaveOrRevert 	= fileNotOpen + getThisInfoMask + closeMask + printMask;	fileDA				= disabledMask + openFileMask + newFileMask + openSpecialMask + 						  getInfoMask + verifyMask + closeMask + quitMask;	rsrcMenu    = 128;		rsrcCreateItem		= 1;	rsrcOpenItem		= 2;	rsrcOpenTemplateItem= 3;	rsrcOpenHexItem		= 4;	rsrcRevertItem		= 6;	rsrcGetInfoItem		= 8;		rsrcCreateMask		= $2;	rsrcOpenMask		= $4;	rsrcOpenTemplateMask= $8;	rsrcOpenHexMask		= $10;	rsrcRevertMask		= $40;	rsrcGetInfoMask		= $100;	rsrcDisabledMask	= $FFFFFE01;		rsrcDisabled		= $FFFFFE00;	rsrcRevertOnly		= rsrcDisabledMask + rsrcRevertMask;	rsrcPickerNoSel		= rsrcDisabledMask + rsrcCreateMask;	rsrcFilePicker		= rsrcPickerNoSel + rsrcOpenHexMask + rsrcRevertMask + rsrcOpenMask;	rsrcRsrcPicker		= rsrcFilePicker + rsrcOpenTemplateMask + rsrcGetInfoMask;	rsrcEditor			= rsrcDisabledMask + rsrcRevertMask + rsrcGetInfoMask;	rsrcEditorPicker	= rsrcEditor + rsrcOpenMask + rsrcOpenTemplateMask + rsrcOpenHexMask;	rsrcDITLEd			= rsrcEditorPicker - rsrcOpenHexMask + rsrcCreateMask;	rsrcEditorCreate	= rsrcEditor + rsrcCreateMask;		editMenu    	= 3;	undoItem    		= 1;	cutItem     		= 3;	copyItem    		= 4;	pasteItem   		= 5;	clearItem   		= 6;	dupItem     		= 8;	selectAllItem		= 9;	selectChangedItem	=10;		{ Masks for AbleMenu - normally not used directly. }	undoMask		= $2;	cutMask			= $8;	editCopyMask	= $10;	pasteMask		= $20;	clearMask		= $40;	duplicateMask	= $100;	selectAllMask	= $200;	selectChangedMask=$400;	editDisabledMask= $FFFFF801;	{ Mask combinations to be used in calls to AbleMenu. }	editNone	= editDisabledMask - 1;	editClear	= editDisabledMask + clearMask;	editCopy	= editDisabledMask + editCopyMask;	editPaste	= editDisabledMask + pasteMask;	editUndoPasteOnly = editPaste + undoMask;	editDup		= editClear + duplicateMask;	editNoDup	= editDisabledMask + cutMask + editCopyMask + pasteMask + clearMask; { No dup or undo }	editNoUndo	= editNoDup + duplicateMask;	editUndNoDup= editNoDup + undoMask;	editAll		= editNoUndo + undoMask;	editAcc 	= editUndNoDup;			{ for DAs }		viewMenu = 130;						{ Type pickers view menu. }		viewByIDItem			= 1;	viewByNameItem			= 2;	viewBySizeItem			= 3;	viewByOrderItem			= 4;	viewBySpecialItem		= 5;	viewShowAttributesItem	= 7;		{ Masks for AbleMenu. }	viewByIDMask			= $2;	viewByNameMask			= $4;	viewBySizeMask			= $8;	viewByOrderMask			= $10;	viewBySpecialMask		= $20;	viewShowAttributesMask	= $80;	viewDisabledMask		= $FFFFFF01;		viewNoSpecial			= viewDisabledMask + viewByIDMask + viewByNameMask + viewBySizeMask + viewByOrderMask + viewShowAttributesMask;	viewNoAttributes		= viewDisabledMask + viewByIDMask + viewByNameMask + viewBySizeMask + viewByOrderMask + viewBySpecialMask;	viewAll					= viewNoAttributes + viewShowAttributesMask;	fontMenu			= 144;		{ Font menu with menus already added. }		miscStrings			= 129;		{ Resource ID of STR# resource containing the strings. }	miscStringsName		= 'Misc';	{ Accessing resources by name is preferred }	cantLoadSndErrStr	= 24;		{ Snd picker string. }	sysStr 				= 45;		{ 'Sys', etc. used by LDEF. }	{ Text for selected errors }	errorStrings		= 132;		{ Resource ID of STR# resource containing the error strings }	errorStringsName	= 'Errors';	{ Accessing resources by name is preferred }	genericErrStr			= 1;	{ Returned by GetErrorText when no specific message available }	ioErrStr				= 1;	writeProtectErrStr		= 2;	diskFullErrStr			= 3;	fileLockedErrStr		= 4;	outOfMemoryErrStr		= 5;	alreadyOpenErrStr		= 6;	tooManyOpenErrStr		= 7;	volNotMountedErrStr		= 8;	resNotFoundErrStr		= 9;	accessErrStr			= 10;	resFileNotFoundErrStr	= 11;	addResFailErrStr		= 12;	removeResFailErrStr		= 13;	resAttributesErrStr		= 14;	resMapErrStr			= 15;		fileNotFoundErrStr		= 16;	eofErrStr				= 17;	fileBusyStr				= 18;	cantDecompressStr		= 19;	arrowCursor 		= -1;		{ Used in the call to SetTheCursor to set the arrow cursor. }		theScrollBar		= 15;		{ Width of a scroll bar. }		okChoice = 1;					{ Used for the OK button in dialogs. }		noDialog = 0;					{ Used with EditorWindSetup. }	noScrap = -1;					{ Used with GetResEditScrapFile. }		alertStringsName = 'Alert strings';	revertResourceAlertStr = 1;	noTemplateAlert = 2;			{ GNRL editor }	cantPlayOnThisMachineAlert = 3;	{ snd picker }	cantPlaySndAlert = 4;			{ snd picker }	{ Consts for Resource menu string }	rsrcStrName = 'Resource menu';	rsrcCreateStr = 1;	rsrcOpenStr = 2;	rsrcListStr = 3;	rsrcOpenLists = 4;	rsrcOpenEditor = 5;	rsrcOpenEditors = 6;	rsrcOpenHex = 7;	rsrcRevert = 8;	rsrcRevertThese = 9;	rsrcResources = 10;	rsrcRevertRes = 11;	rsrcRevertThis = 12;	rsrcPatCreateStr = 13;	rsrcSICNCreateStr = 14;	rsrcDITLCreateStr = 15;	rsrcRevertItemStr = 16;	rsrcGNRLCreateStr = 17;	rsrcOpenTemplate = 18;	rsrcOpenPickerByID = 19;		{ Character code constants } 	leftArrowKey 	= $1c; 	rightArrowKey 	= $1d; 	upArrowKey	 	= $1e; 	downArrowKey 	= $1f; 	tabkey		 	= $09;	enterKey	 	= $03;	deleteKey	 	= $08;	returnKey	 	= $0d;	escapeKey	 	= $1b;	periodKey	 	= $2e;TYPE	STR64 = STRING[64];	{ Alert kinds used by the DisplayAlert procedure. }	AlertType = (displayTheAlert, displayStopAlert, displayNoteAlert, displayCautionAlert, 				 displayYNAlert, displayYNCAlert, displayYNCStopAlert, displayCancelDefaultCautionAlert);	{ Icon kinds used by the ChooseIcon function }	IconType = (  noIcon, normalIcon, reducedIcon, smallIcon, onlyICON, onlyICNPound  );	 { 	This defines the various types of icons handled by the icon chooser package. 	 	Passing onlyICON in the IconKind parameter of the ChooseIcon function forces the 		IconChooser to not allow reduced ICONs and SICNs. Passing onlyICNPound in 		the IconKind parameter uses ICN# resources instead of ICONs. Passing any	 	other value instructs the IconChooser to support regular ICONs, reduced ICONs, 		and SICNs (like in the MENU editor).		       }		{ Kinds of windows that support color in different degrees }	ColorType = ( noColor, canColor, requiresColor );	{ This structure is used by the GetQuickDrawVars procedure. }	pQuickDrawVars = ^QuickDrawVars;	QuickDrawVArs = RECORD		randSeed: 	LONGINT;		screenBits: BitMap;		arrow: 		Cursor;		dkGray: 	Pattern;		ltGray: 	Pattern;		gray: 		Pattern;		black: 		Pattern;		white: 		Pattern;		thePort: 	GrafPtr;	END; { QuickDrawVars }	PickerType = (textOnlyPicker, graphical1DPicker, graphical2DPicker);	PossibleWindowTypes = (typePickerWindow, resourcePickerWindow, 						   folderInfoWindow, fileInfoWindow, resourceInfoWindow,						   editorWindow, floatingWindow);	ParentPtr = ^ParentRec;	ParentHandle = ^ParentPtr;	ParentRec = RECORD		father: 		ParentHandle;		name: 			str255;		wind: 			WindowPeek;		{ Window that this record belongs to. }		rebuild: 		BOOLEAN;		{ Flag set to indicate that window should be rebuilt }		resWasntLoaded: BOOLEAN;		{ TRUE if the resource should be released when the window is closed. }		windowType: 	PossibleWindowTypes;		theResType: 	ResType;		{ Type of the resource being picked or edited. }		theResFile:		INTEGER;		{ The home resfile of the window. }		codeResID:		INTEGER;		{ Resource ID of the RSSC resource containing the picker or editor. }		theResToEdit:	Handle;	END;	{ Standard picker record }	PickPtr = ^PickRec;	PickHandle = ^PickPtr;	ViewTypes = (viewById, viewByName, viewBySize, viewByOrder, viewBySpecial);	PickRec = RECORD		father: 		ParentHandle;	{ Back ptr to dad }		fName: 			STR255;		wind: 			WindowPtr;		{ Picker window }		rebuild: 		BOOLEAN;		spare1: 		BOOLEAN;		{ Not used here}		windowType: 	PossibleWindowTypes;		theResType: 	ResType;		{ Type of the resource being picked or edited. }		theResFile:		INTEGER;		{ The home resfile of the window. }		codeResID: 		INTEGER;		{ Resource ID of the RSSC resource containing the picker or editor. }		spare:			Handle;			{ Not used here}		rType: 			ResType;		{ Type for picker - could be different from theResType }		rSize: 			LONGINT;		{ Size of a null resource }		minWindowWidth:	INTEGER;		{ Used when the window is grown. }		minWindowHeight:INTEGER;		instances:		ListHandle;		{ List of instances }		nInsts: 		INTEGER;		{ Number of instances }		viewBy:			ViewTypes;		{ Current view type }		showAttributes: BOOLEAN;		{ Show attrs in window?	}		ldefType:		ResType;		{ Which LDEF to use }		theViewMenu:	MenuHandle;		{ The picker view menu }		viewMenuMask: 	LONGINT;		{ Which items are enabled? }		cellSize:		Cell;			{ Cell size for special view. }		optionCreateStr:STR255;			{ Create item menu text when the option key is pressed. }	END;		FloatingWindowPtr = ^FloatingWindowRec;	FloatingWindowHandle = ^FloatingWindowPtr;	FloatingWindowRec = RECORD		father: 		ParentHandle;	{ Back ptr to dad }		name: 			STR255;		wind: 			WindowPtr;		{ Floating window. }		rebuild: 		BOOLEAN;		visible: 		BOOLEAN;		{ Is the window to be hidden temporarily }		windowType: 	PossibleWindowTypes;		theResType: 	ResType;		{ Type of the resource being picked or edited. }		theResFile:		INTEGER;		{ The home resfile of the window. }		codeResID: 		INTEGER;		{ Resource ID of the RSSC resource containing the picker or editor. }		ownerWindow:	WindowPtr;		{ Which window owns this floating window? }	END;		{ Window Utilities }	FUNCTION  AlreadyOpen (VAR windowTitle, windowName: STR255; father: ParentHandle): BOOLEAN;	FUNCTION  EditorWindSetup (dlogID: INTEGER; colorKind: ColorType; width, height: INTEGER; 							   VAR windowTitle, windowName: STR255; addFrom: BOOLEAN; 							   windowKind: INTEGER; father: ParentHandle): WindowPtr;	FUNCTION  FloatingWindowSetup (WINDID: INTEGER; fw: FloatingWindowHandle; 							   	   owner: Parenthandle; where: Point): WindowPtr;	PROCEDURE GetWindowTitle (VAR windowTitle, windowName: STR255; addFrom: BOOLEAN; father: ParentHandle);	FUNCTION  PickerWindSetup(colorKind: ColorType; showTheWindow: BOOLEAN; width, height: INTEGER; VAR windowTitle: STR255;							  windowKind: INTEGER; dad: ParentHandle): WindowPtr;	PROCEDURE SetETitle (h: Handle; VAR str: STR255);	FUNCTION  WindAlloc: WindowPtr;	PROCEDURE WindReturn (w: WindowPtr);{ Extended Resource Manager. }	FUNCTION  REAddNewRes(resFile: INTEGER; hNew: Handle; t: ResType; idNew: INTEGER; s: STR255): BOOLEAN;	PROCEDURE REAddResource(resFile: INTEGER; theResource: Handle;							theType: ResType;theID: INTEGER; name: Str255);	FUNCTION  REBeautifulUnique1ID(resFile: INTEGER; WhichType: ResType): INTEGER;	FUNCTION  RECount1Resources(resFile: INTEGER; theType: ResType): INTEGER;	FUNCTION  RECount1Types (resFile: INTEGER): INTEGER;	FUNCTION  REGet1IndResource(resFile: INTEGER; theType: ResType;index: INTEGER): Handle;	PROCEDURE REGet1IndType(resFile: INTEGER; VAR theType: ResType;index: INTEGER);	FUNCTION  REGet1NamedResource(resFile: INTEGER; theType: ResType;name: Str255): Handle;	FUNCTION  REGet1Resource(resFile: INTEGER; theType: ResType;theID: INTEGER): Handle;	FUNCTION  REGet1ResourceSpecial (resFile: INTEGER; theType: ResType; ID: INTEGER; 									 VAR wasLoaded: BOOLEAN; VAR error: INTEGER): Handle;	FUNCTION  RENewUniqueRes(resFile: INTEGER; s: LONGINT; t: ResType): Handle;	PROCEDURE RERemoveAnyResource (resFile: INTEGER; theRes: Handle);	FUNCTION  RevertThisResource (theObj: ParentHandle; res: Handle): BOOLEAN;{ Routines used by pickers. }	FUNCTION  DefaultListCellSize:INTEGER;         	FUNCTION  DoPickBirth(colorKind: ColorType; buildList: BOOLEAN; which: PickerType; 						  pickerResId: INTEGER; pick: PickHandle): BOOLEAN;	{	The drawProc is of the form: PROCEDURE DrawResource (lRect: Rect; theRes: Handle);		}	PROCEDURE DrawLDEF (message: INTEGER; lSelect: BOOLEAN; lRect: Rect; theRes: Handle;						id: INTEGER; title: STR255; maxH, maxV: INTEGER;						DrawResource: ProcPtr; lh: ListHandle);	PROCEDURE GrowMyWindow (minWidth, minHeight: INTEGER; windPtr: WindowPtr; lh: ListHandle);	PROCEDURE PickEvent (VAR evt: EventRecord; pick: PickHandle);	PROCEDURE PickInfoUp (oldID, newID: INTEGER; pick: PickHandle);	PROCEDURE PickMenu (menu, item: INTEGER; pick: PickHandle);	FUNCTION  PickStdHeight: INTEGER;	FUNCTION  PickStdWidth: INTEGER;	{ Routines used by editors. }	FUNCTION  CloseNoSave: BOOLEAN; 	FUNCTION  NeedToRevert (myWindow: WindowPtr; theRes: Handle): BOOLEAN;	PROCEDURE NoDoubleClickHere;	PROCEDURE SetResChanged (h: Handle);	FUNCTION  WasItLoaded: BOOLEAN;{ Routines used to start pickers and editors. }	PROCEDURE GiveEBirth (resHandle: Handle; pick: PickHandle);	PROCEDURE GiveSubEBirth (resHandle: Handle; pick: PickHandle);	PROCEDURE GiveThisEBirth (resHandle: Handle; pick: PickHandle; openThisType:ResType);{ Routines used to feed events and menus to the appropriate picker or editor. }	PROCEDURE CallDoEvent (evt: EventRecord; theWindow: WindowPtr);	PROCEDURE CallInfoUpdate (oldID, newID: INTEGER; refcon: LONGINT; id: INTEGER );	PROCEDURE PassEvent (evt: EventRecord; father: ParentHandle);	PROCEDURE PassMenu (menu, item: INTEGER; father: ParentHandle);{ Miscellaneous utilities. }		PROCEDURE Abort;	PROCEDURE AbleMenu(menu: INTEGER; enable: LONGINT);	PROCEDURE BubbleUp(h: Handle);	PROCEDURE CenterDialog(theType: ResType; dialog: INTEGER);	FUNCTION  CheckError(err, msgID: INTEGER): BOOLEAN;	FUNCTION  ChooseIcon( EdHandle: ParentHandle; VAR IconResID: integer;						  VAR IconKind: IconType; dialogID: integer): BOOLEAN;	FUNCTION  ColorAvailable(needColorQD: BOOLEAN): BOOLEAN;	PROCEDURE ConcatStr(VAR str1: STR255; str2: STR255);	FUNCTION  DisplayAlert(which: AlertType; id: INTEGER): INTEGER;	FUNCTION  DisplaySTRAlert(which: AlertType; STRName: STR255; STRIndex: INTEGER): BOOLEAN;	PROCEDURE DrawMBarLater(forceItNow: BOOLEAN);	FUNCTION  FindOwnerWindow(theRes: Handle): WindowPeek;	PROCEDURE FixHand(s: LONGINT; h: Handle);	PROCEDURE FlashDialogItem(dp: DialogPtr; item: integer);	PROCEDURE FrameDialogItem(dp: DialogPtr; item: integer);	PROCEDURE GetNamedStr(index: INTEGER; name: STR255; VAR str: STR255);	FUNCTION  GetQuickDrawVars: pQuickDrawVars;	FUNCTION  GetScreenRect(roomForIcons: BOOLEAN; wind: WindowPtr): Rect;	PROCEDURE GetStr(index, resID: INTEGER; VAR str: STR255);	FUNCTION  HandleCheck(h: Handle; msgID: INTEGER): BOOLEAN;	PROCEDURE MetaKeys(VAR cmd, shift, opt: BOOLEAN);	FUNCTION  PrintSetup: Handle;		{ Return type is actually THPrint }	PROCEDURE PrintWindow(toPrint: PicHandle);	FUNCTION  ResEdID: INTEGER;	PROCEDURE SetTheCursor(whichCursor: INTEGER);	PROCEDURE ShowInfo(h:Handle; father: ParentHandle);	FUNCTION  StandardFilter(theDialog: DialogPtr; VAR theEvent: EventRecord;								VAR itemHit: INTEGER): BOOLEAN;	PROCEDURE TypeToString(t: ResType; VAR s: Str255);	PROCEDURE UseAppRes;	FUNCTION  WasAborted: BOOLEAN;	{ Popup Menus }	FUNCTION  ColorPalettePopupSelect(whichWindow: WindowPtr; itemBox: Rect;				VAR whichColor: RGBColor; CQDishere: Boolean; useColorPicker: BOOLEAN ): Boolean;	PROCEDURE DeinstallColorPalettePopup(whichWindow: WindowPtr; CQDishere: Boolean );	PROCEDURE DoPopup( whichDialog: DialogPtr; promptDialogItem, popupDialogItem: integer;					   VAR menuItem: integer; whichMenu: MenuHandle);	PROCEDURE DrawColorPopup(whichWindow: WindowPtr; itemBox: Rect;							 whichColor: RGBColor; CQDishere: Boolean );	PROCEDURE DrawPopup( whichDialog: DialogPtr; whichDialogItem, whichMenuItem: integer;						 whichMenu: MenuHandle);	PROCEDURE InstallColorPalettePopup(whichWindow: WindowPtr; CQDishere, isActive: Boolean );	{ Routines that are used internally within ResEdit and may be useful in other	circumstances. }	FUNCTION  BuildType (t: ResType; l: ListHandle): INTEGER;	FUNCTION  CompressedResource(theResource: Handle): BOOLEAN;	PROCEDURE DoKeyScan (var evt: EventRecord; offset: integer; lh: ListHandle);	FUNCTION  DupPick (h: Handle; c: cell; pick: PickHandle): Handle;	PROCEDURE GetErrorText (error: INTEGER; VAR errorText: STR255);	FUNCTION  GetResEditScrapFile: INTEGER;	FUNCTION  GetType (templatesOnly: BOOLEAN; VAR s: STR255): BOOLEAN;	FUNCTION  MapResourceType (editor: BOOLEAN; theRes: Handle; origResType: ResType): ResType;	FUNCTION  PlaySyncSound(which: INTEGER; sndHandle: Handle): BOOLEAN;	FUNCTION  ResEditRes: INTEGER;		Inline	{ move.w	CurApRefNum,(sp) } $3eB8, $0900;	PROCEDURE ResourceIDHasChanged (theObj: ParentHandle; theType: ResType; theOldId, theNewId: INTEGER);	FUNCTION  RestoreRemovedResources (pick: PickHandle): BOOLEAN;	PROCEDURE ScrapCopy (theType: ResType; VAR h: Handle);	PROCEDURE ScrapEmpty;	PROCEDURE SendRebuildToPicker (theType: ResType; parent: ParentHandle);	PROCEDURE SendRebuildToPickerAndFile (theType: ResType; parent: ParentHandle) ;	FUNCTION  SysResFile: INTEGER;	FUNCTION  WindList (w: WindowPtr; nAcross: INTEGER; cSize: Point; drawProc:INTEGER): ListHandle;	PROCEDURE WindOrigin (w: WindowPtr; dad: ParentHandle);	PROCEDURE WritePreferences (prefType: ResType; prefId: INTEGER; prefName: STR255; prefHandle: Handle);	END.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 